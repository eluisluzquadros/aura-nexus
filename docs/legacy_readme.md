# ğŸš€ AURA NEXUS v29
### Sistema AvanÃ§ado de Enriquecimento de Leads com Foco em Dados de Contato

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org)
[![License](https://img.shields.io/badge/License-Proprietary-red.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Em_Desenvolvimento-yellow.svg)](https://github.com)
[![Colab](https://img.shields.io/badge/Google%20Colab-Ready-orange.svg)](https://colab.research.google.com)
[![Quality](https://img.shields.io/badge/Taxa_Sucesso-0%25-red.svg)](https://github.com)

<div align="center">

```
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
      â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•
```

**ğŸ¯ Enriquecimento automatizado de leads com foco em DADOS DE CONTATO**

</div>

## âš ï¸ Status Atual - v29

### ğŸ”´ Problemas CrÃ­ticos Identificados
- **Taxa de Sucesso: 0%** - Sistema nÃ£o estÃ¡ processando corretamente
- **Apenas 5/34 leads processados** - Leads com Google ID sÃ£o ignorados
- **Features nÃ£o executadas** - Web scraping, social scraping nÃ£o funcionam
- **DistribuiÃ§Ã£o incorreta** - Enriquecimento de contatos deveria estar no modo BASIC

### âœ… O que estÃ¡ funcionando
- Sistema de logs e monitoramento
- ConfiguraÃ§Ã£o de APIs
- Leitura e adaptaÃ§Ã£o de planilhas
- Cache e checkpoints
- Busca bÃ¡sica no Google Maps

## ğŸ“‹ Ãndice

- [Status Atual](#ï¸-status-atual---v29)
- [Fluxo de Enriquecimento](#-fluxo-de-enriquecimento)
- [InstalaÃ§Ã£o](#-instalaÃ§Ã£o)
- [ConfiguraÃ§Ã£o](#ï¸-configuraÃ§Ã£o)
- [Modos de OperaÃ§Ã£o](#-modos-de-operaÃ§Ã£o)
- [Uso](#-uso)
- [Arquitetura](#ï¸-arquitetura-do-sistema)
- [Problemas Conhecidos](#-problemas-conhecidos)
- [Roadmap](#-roadmap)

## ğŸ”„ Fluxo de Enriquecimento

```mermaid
graph TD
    A[ğŸ“¥ Entrada: Planilha de Leads] --> B{Tem Google Maps ID?}
    
    B -->|NÃƒO| C[ğŸŒ Google Maps API]
    B -->|SIM| D[â­ï¸ Pular Google Maps API]
    
    C --> E[âœ… Lead com Google ID]
    D --> E
    
    E --> F{Modo de AnÃ¡lise}
    
    F -->|BASIC| G[ğŸ“ Enriquecimento de Contatos]
    F -->|FULL| H[ğŸ“ Contatos + ğŸ“Š AnÃ¡lises]
    F -->|PREMIUM| I[ğŸ“ Contatos + ğŸ“Š AnÃ¡lises + ğŸ¢ Premium]
    
    %% Modo BASIC
    G --> G1[ğŸ” Google CSE<br/>Busca de links e perfis]
    G1 --> G2[ğŸŒ Crawl4AI<br/>ExtraÃ§Ã£o do website]
    G2 --> G3[ğŸ“± Apify Scrapers<br/>Instagram/Facebook/Linktree]
    G3 --> G4[â˜ï¸ ConsolidaÃ§Ã£o<br/>Telefones, emails, redes]
    
    %% Modo FULL
    H --> G1
    H --> H1[â­ Reviews Analysis<br/>AnÃ¡lise de avaliaÃ§Ãµes]
    H1 --> H2[ğŸ† Competitor Analysis<br/>Identificar concorrentes]
    H2 --> H3[ğŸ¤– Multi-LLM Analysis<br/>Insights estratÃ©gicos]
    H3 --> H4[ğŸ’¼ Sales Approach<br/>EstratÃ©gias de venda]
    H4 --> H5[ğŸ”„ Discovery Cycle<br/>Busca recursiva profunda]
    H5 --> H6[ğŸ“ˆ Advanced Metrics<br/>MÃ©tricas de consenso]
    
    %% Modo PREMIUM
    I --> G1
    I --> H1
    I --> I1{Street View?}
    I1 -->|Habilitado| I2[ğŸ“¸ Facade Analysis<br/>AnÃ¡lise visual de fachada]
    I1 -->|Desabilitado| I3[â­ï¸ Pular Street View]
    
    %% SaÃ­da
    G4 --> J[ğŸ“Š GDR Enriquecido]
    H6 --> J
    I2 --> J
    I3 --> J
    
    J --> K[ğŸ’¾ Salvar Excel]
    K --> L[ğŸ“‹ RelatÃ³rio de Qualidade]
    
    style A fill:#e1f5fe
    style J fill:#c8e6c9
    style C fill:#ffeb3b
    style G fill:#b3e5fc
    style H fill:#81c784
    style I fill:#ce93d8
    style I1 fill:#ffd54f
```

### ğŸ“ DescriÃ§Ã£o do Fluxo

#### 1ï¸âƒ£ **Entrada e ValidaÃ§Ã£o**
- Sistema recebe planilha com leads
- Verifica se lead jÃ¡ tem Google Maps ID
- Se nÃ£o tiver, busca no Google Maps API
- Se tiver, pula APENAS a API do Google (nÃ£o o processamento completo)

#### 2ï¸âƒ£ **Modos de Processamento**

**ğŸ”µ BASIC - Foco em Contatos**
1. **Google CSE**: Busca links, perfis e menÃ§Ãµes na web
2. **Crawl4AI**: Acessa website e extrai contatos
3. **Apify**: Scraping de Instagram, Facebook e Linktree
4. **ConsolidaÃ§Ã£o**: Unifica todos os contatos encontrados

**ğŸŸ¢ FULL STRATEGY - AnÃ¡lise Completa**
- Tudo do BASIC +
- **Reviews**: AnÃ¡lise de avaliaÃ§Ãµes e sentimentos
- **Concorrentes**: Identifica competidores prÃ³ximos
- **Multi-LLM**: Consenso entre 3 IAs para insights
- **Sales**: Gera estratÃ©gias de abordagem
- **Discovery Cycle**: Busca recursiva profunda em atÃ© 3 nÃ­veis
- **Advanced Metrics**: Score de confiabilidade e mÃ©tricas de consenso

**ğŸŸ£ PREMIUM - AnÃ¡lise Visual AvanÃ§ada**
- Tudo do FULL +
- **Street View** (Opcional): AnÃ¡lise visual da fachada com IA
- Foco em anÃ¡lise visual e presenÃ§a fÃ­sica do negÃ³cio

#### 3ï¸âƒ£ **Processamento Paralelo**
- Features independentes executam em paralelo
- Timeout configurÃ¡vel por feature
- Fallback automÃ¡tico em caso de falha

#### 4ï¸âƒ£ **SaÃ­da e Qualidade**
- GDR (Global Data Record) com todos os dados
- RelatÃ³rio de inconsistÃªncias e qualidade
- Score de confiabilidade por campo

## ğŸ’» InstalaÃ§Ã£o

### PrÃ©-requisitos
```bash
python >= 3.11
pip >= 23.0
```

### InstalaÃ§Ã£o das DependÃªncias
```bash
pip install -r requirements.txt
```

## âš™ï¸ ConfiguraÃ§Ã£o

### VariÃ¡veis de Ambiente (.env)
```env
# Google APIs
GOOGLE_MAPS_API_KEY=sua_chave_aqui
GOOGLE_CSE_API_KEY=sua_chave_aqui
GOOGLE_CSE_ID=seu_id_aqui

# LLMs
OPENAI_API_KEY=sua_chave_aqui
GEMINI_API_KEY=sua_chave_aqui
DEEPSEEK_API_KEY=sua_chave_aqui

# Scrapers
APIFY_API_KEY=sua_chave_aqui
APIFY_INSTAGRAM_ACTOR_ID=seu_id_aqui
APIFY_FACEBOOK_ACTOR_ID=seu_id_aqui
APIFY_LINKTREE_API_KEY=sua_chave_aqui
```

### ConfiguraÃ§Ã£o Modo Premium
```python
# Para DESABILITAR Street View no modo Premium
config = {
    'analysis_mode': 'premium',
    'enable_facade_analysis': False,  # Desabilita Street View
    'facade_analysis_options': {
        'skip_if_no_address': True,
        'max_images': 4
    }
}
```

## ğŸ“Š Modos de OperaÃ§Ã£o

### ğŸ”µ BASIC - Enriquecimento de Contatos
```python
# Foco: Coletar telefones, emails e redes sociais
process_leads(file='leads.xlsx', mode='basic')
```
- Google Maps (dados bÃ¡sicos)
- Google Search (descoberta de links)
- Web Scraping (extraÃ§Ã£o de contatos)
- Social Scraping (Instagram/Facebook)

### ğŸŸ¢ FULL STRATEGY - AnÃ¡lise Completa
```python
# Foco: Contatos + anÃ¡lise estratÃ©gica + busca profunda
process_leads(file='leads.xlsx', mode='full_strategy')
```
- Tudo do BASIC +
- AnÃ¡lise de reviews
- IdentificaÃ§Ã£o de concorrentes
- Multi-LLM para insights
- EstratÃ©gias de venda
- Discovery Cycle (busca recursiva)
- Advanced Metrics (consenso e confiabilidade)

### ğŸŸ£ PREMIUM - AnÃ¡lise Visual
```python
# Foco: Tudo do FULL + anÃ¡lise visual avanÃ§ada
process_leads(
    file='leads.xlsx', 
    mode='premium',
    enable_facade_analysis=True  # Street View opcional
)
```
- Tudo do FULL +
- AnÃ¡lise de fachada com Street View (opcional)
- AnÃ¡lise visual avanÃ§ada com IA

## ğŸš€ Uso

### Comando Principal
```python
from aura_nexus_v29 import process_leads

# Processar com configuraÃ§Ã£o padrÃ£o
results = process_leads(
    file='base-leads_amostra_v2.xlsx',
    mode='full_strategy',
    batch_size=5,
    force_process_all=True  # Processa TODOS os leads
)
```

### Exemplo AvanÃ§ado
```python
# ConfiguraÃ§Ã£o customizada
config = {
    'analysis_mode': 'premium',
    'batch_size': 10,
    'enable_facade_analysis': False,  # Sem Street View
    'force_process_all': True,
    'skip_google_api_only': True,
    'max_concurrent_tasks': 5,
    'timeout_per_lead': 120
}

orchestrator = OrchestratorV4(config)
results = orchestrator.process_spreadsheet('leads.xlsx')
```

## ğŸ—ï¸ Arquitetura do Sistema

```
AURA NEXUS/
â”œâ”€â”€ ğŸ“ cÃ©lulas/                     # MÃ³dulos principais
â”‚   â”œâ”€â”€ cÃ©lula_01_logs.py          # Sistema de logging
â”‚   â”œâ”€â”€ cÃ©lula_02_api_manager.py   # Gerenciador de APIs
â”‚   â”œâ”€â”€ cÃ©lula_03_adapter.py       # Adaptador de planilhas
â”‚   â”œâ”€â”€ cÃ©lula_05_cache.py         # Sistema de cache
â”‚   â”œâ”€â”€ cÃ©lula_08_checkpoint.py    # Checkpoints de recuperaÃ§Ã£o
â”‚   â”œâ”€â”€ cÃ©lula_09_performance.py   # Monitor de performance
â”‚   â”œâ”€â”€ cÃ©lula_10_processor.py     # Processador de leads
â”‚   â”œâ”€â”€ cÃ©lula_11_orchestrator.py  # Orquestrador principal
â”‚   â”œâ”€â”€ cÃ©lula_13_multi_llm.py     # Consenso multi-LLM
â”‚   â”œâ”€â”€ cÃ©lula_14_apify.py         # Scrapers sociais
â”‚   â”œâ”€â”€ cÃ©lula_15_crawl4ai.py      # Web scraping
â”‚   â”œâ”€â”€ cÃ©lula_16_google_cse.py    # Google Search
â”‚   â””â”€â”€ cÃ©lula_19_data_review.py   # ValidaÃ§Ã£o de dados
â”œâ”€â”€ ğŸ“ logs/                        # Logs de execuÃ§Ã£o
â”œâ”€â”€ ğŸ“ cache/                       # Cache local
â”œâ”€â”€ ğŸ“ checkpoints/                 # Pontos de recuperaÃ§Ã£o
â””â”€â”€ ğŸ“ aura_nexus_output/           # Resultados processados
```

## âš ï¸ Problemas Conhecidos

### ğŸ”´ CrÃ­ticos
1. **Processamento ignora 85% dos leads** - Leads com Google ID sÃ£o pulados completamente
2. **Features nÃ£o executam** - Apenas Google Maps API funciona
3. **Taxa de sucesso 0%** - Contador quebrado

### ğŸŸ¡ MÃ©dios
1. **Erro no relatÃ³rio de inconsistÃªncias** - `'total_critical'` nÃ£o encontrado
2. **Logs duplicados** - MÃºltiplas entradas para mesmo processamento
3. **Performance suspeita** - 0.06s por lead indica que APIs nÃ£o sÃ£o chamadas

### ğŸŸ¢ Menores
1. **Cache nÃ£o funciona corretamente**
2. **Checkpoint salva mas nÃ£o recupera**
3. **DocumentaÃ§Ã£o desatualizada**

## ğŸ“… Roadmap

### v30 - CorreÃ§Ãµes CrÃ­ticas (Janeiro 2025)
- [ ] Corrigir processamento de TODOS os leads
- [ ] Garantir execuÃ§Ã£o de todas as features
- [ ] Reorganizar features por modo
- [ ] Corrigir contadores de sucesso

### v31 - OtimizaÃ§Ãµes (Fevereiro 2025)
- [ ] Implementar testes automatizados
- [ ] Melhorar sistema de retry
- [ ] Otimizar processamento paralelo
- [ ] Dashboard de monitoramento

### v32 - Novas Features (MarÃ§o 2025)
- [ ] API REST
- [ ] IntegraÃ§Ã£o com CRMs
- [ ] Suporte para LinkedIn
- [ ] Interface web

---

**Ãšltima AtualizaÃ§Ã£o:** 30/01/2025  
**VersÃ£o:** v29 (Em Desenvolvimento)  
**Status:** âš ï¸ Necessita correÃ§Ãµes crÃ­ticas antes do uso em produÃ§Ã£o
- **CÃ©lula 02**: Response Models - Estruturas de dados (ATUALIZADO v26.2)
- **CÃ©lula 03**: Multi-LLM Consensus - **INTEGRADO com DataReviewAgent**

### CÃ©lulas de AnÃ¡lise (04-07)
- **CÃ©lula 04**: Contact Extraction - WhatsApp, telefones, emails
- **CÃ©lula 05**: Content Validation - RelevÃ¢ncia de conteÃºdo
- **CÃ©lula 06**: Web Scraping - AdvancedWebScraper
- **CÃ©lula 07**: Review Analysis - NLP avanÃ§ado

### CÃ©lulas de Infraestrutura (08-09)
- **CÃ©lula 08**: Smart Cache - 3 nÃ­veis (L1, L2, L3)
- **CÃ©lula 09**: Robustness - Checkpoints e recovery

### CÃ©lulas de Processamento (10-11)
- **CÃ©lula 10 v3**: Lead Processor - Suporte para discovery cycle
- **CÃ©lula 11 v4**: Main Orchestrator - CoordenaÃ§Ã£o completa

### CÃ©lulas AvanÃ§adas (12-16)
- **CÃ©lula 12**: Google Maps Search
- **CÃ©lula 13**: Street View Analysis - VisÃ£o computacional
- **CÃ©lula 14**: Kepler.gl Viz - Mapas interativos
- **CÃ©lula 15**: RAG System - Consultas inteligentes
- **CÃ©lula 16**: Social Media Scraping - APIFY dual

### ğŸ†• CÃ©lulas v26 (17-19)
- **CÃ©lula 17**: IntelligentDiscoveryCycle - RetroalimentaÃ§Ã£o completa
- **CÃ©lula 18**: GoogleCustomSearchEngine - Busca avanÃ§ada
- **CÃ©lula 19**: DataReviewAgent - ValidaÃ§Ã£o e correÃ§Ã£o automÃ¡tica

## ğŸ”§ Modos de OperaÃ§Ã£o

### INPUT_MODE

#### 1. Modo Spreadsheet (PadrÃ£o)
```bash
python aura_nexus_main_v3.py \
    --mode spreadsheet \
    --file base-leads.xlsx \
    --analysis full_strategy \
    --enable-review
```

#### 2. Modo Maps (Busca Direta)
```bash
python aura_nexus_main_v3.py \
    --mode maps \
    --query "assistÃªncia tÃ©cnica" \
    --location "SÃ£o Paulo SP" \
    --radius 5000 \
    --enable-review
```

#### 3. ğŸ†• Modo Discovery (Descoberta Total)
```bash
python aura_nexus_main_v3.py \
    --mode maps \
    --query "restaurantes" \
    --analysis full_discovery \
    --use-google-cse \
    --discovery-depth 3
```

### ANALYSIS_MODE

#### 1. Basic (10s/lead)
- Dados essenciais
- Sem anÃ¡lise de IA
- Ideal para triagem

#### 2. Full Strategy (60s/lead)
- AnÃ¡lise completa com IA
- Street View
- Consenso Multi-LLM
- **ValidaÃ§Ã£o automÃ¡tica**

#### 3. ğŸ†• Full Discovery (120s/lead)
- Descoberta recursiva
- Google CSE
- RetroalimentaÃ§Ã£o completa
- **MÃ¡xima qualidade garantida**

## ğŸ“¦ InstalaÃ§Ã£o

### Requisitos MÃ­nimos
- Python 3.8+
- 8GB RAM (16GB para full discovery)
- Google Colab Pro (recomendado)
- APIs configuradas

### DependÃªncias Principais v26.2
```txt
pandas>=1.5.0
googlemaps>=4.10.0
openai>=1.0.0
anthropic>=0.18.0
google-generativeai>=0.4.0
keplergl>=0.3.2
chromadb>=0.4.0
playwright>=1.40.0
beautifulsoup4>=4.12.0
apify-client>=1.5.0
nest-asyncio>=1.5.6
phonenumbers>=8.13.0      # NOVO
validators>=0.20.0        # NOVO
aiohttp>=3.8.0           # NOVO
```

## âš™ï¸ ConfiguraÃ§Ã£o

### VariÃ¡veis de Ambiente (.env)

```bash
# APIs ObrigatÃ³rias
GOOGLE_MAPS_API_KEY=sua_chave_aqui

# APIs de LLM (pelo menos uma)
GEMINI_API_KEY=sua_chave_aqui
CLAUDE_API_KEY=sua_chave_aqui
OPENAI_API_KEY=sua_chave_aqui
DEEPSEEK_API_KEY=sua_chave_aqui

# APIs de Scraping
APIFY_API_KEY=sua_chave_aqui
APIFY_API_KEY_LINKTREE=sua_chave_aqui

# NOVO: Google Custom Search
GOOGLE_CSE_ID=seu_id_aqui
GOOGLE_CSE_API_KEY=sua_chave_aqui

# ConfiguraÃ§Ãµes v26.2
OUTPUT_DIR=/content/drive/MyDrive/aura_nexus_output
ENABLE_DATA_REVIEW=true          # NOVO
ENABLE_DISCOVERY_CYCLE=true      # NOVO
MAX_DISCOVERY_DEPTH=3            # NOVO
MIN_QUALITY_SCORE=0.8            # NOVO
```

## ğŸš€ Uso

### Linha de Comando v26.2

```bash
# Processamento com validaÃ§Ã£o automÃ¡tica
python aura_nexus_main_v3.py \
    --file leads.xlsx \
    --analysis full_strategy \
    --enable-review \
    --min-quality 0.8

# Descoberta total com retroalimentaÃ§Ã£o
python aura_nexus_main_v3.py \
    --mode maps \
    --query "clÃ­nicas mÃ©dicas" \
    --location "Porto Alegre RS" \
    --analysis full_discovery \
    --discovery-depth 3 \
    --use-google-cse

# Ver estatÃ­sticas de validaÃ§Ã£o
python aura_nexus_main_v3.py --show-validation-stats
```

### CÃ³digo Python v26.2

```python
from aura_nexus_celula_11_v4 import AuraNexusOrchestrator
from aura_nexus_celula_19_data_review import DataReviewAgent

# Configurar com validaÃ§Ã£o
config = {
    'enable_review': True,
    'min_quality_score': 0.8,
    'enable_discovery_cycle': True,
    'max_discovery_depth': 3
}

# Criar orquestrador
orchestrator = AuraNexusOrchestrator(config)

# Processar com qualidade garantida
results = await orchestrator.process_leads(
    'leads.xlsx',
    num_leads=10,
    enable_review=True
)

# Verificar qualidade
for lead in results['dataframe'].itertuples():
    print(f"{lead.gdr_nome}: Qualidade {lead.gdr_quality_score:.0%}")
```

## ğŸ†• Sistema de ValidaÃ§Ã£o

### DataReviewAgent

O novo sistema de validaÃ§Ã£o garante a qualidade dos dados:

```python
from aura_nexus_celula_19_data_review import DataReviewAgent

# Criar agente de revisÃ£o
review_agent = DataReviewAgent(
    consensus_orchestrator=multi_llm,
    learning_enabled=True
)

# Revisar resultado
reviewed = await review_agent.review_consensus_result(
    consensus_result,
    analysis_type='scoring',
    original_data=lead_data
)

print(f"Status: {reviewed['status']}")
print(f"Qualidade: {reviewed['quality_score']:.0%}")
print(f"CorreÃ§Ãµes: {reviewed['corrections_applied']}")
```

### Tipos de ValidaÃ§Ã£o

1. **Estrutural**: Campos obrigatÃ³rios, tipos de dados
2. **ConteÃºdo**: Ranges vÃ¡lidos, formatos corretos
3. **ConsistÃªncia**: CÃ¡lculos, relaÃ§Ãµes entre campos
4. **Qualidade**: Completude, confiabilidade

### CorreÃ§Ãµes AutomÃ¡ticas

- Scores fora de range â†’ Ajustados
- Campos faltantes â†’ Inferidos
- CÃ¡lculos incorretos â†’ Recalculados
- Formatos invÃ¡lidos â†’ Corrigidos

## ğŸŒŸ Funcionalidades AvanÃ§adas

### 1. Ciclo de Descoberta Inteligente

```python
from aura_nexus_celula_17_discovery_cycle import IntelligentDiscoveryCycle

# Criar ciclo de descoberta
discovery = IntelligentDiscoveryCycle(
    google_maps_client=gmaps,
    web_scraper=scraper,
    social_scraper=social,
    google_cse_client=cse,
    max_depth=3
)

# Descobrir dados recursivamente
results = await discovery.discover_complete(
    lead_name="TechCell",
    initial_data=lead_data,
    use_google_search=True
)

print(f"Descobertas: {results['discovery_stats']['total_discoveries']}")
```

### 2. Google Custom Search

```python
from aura_nexus_celula_18_google_cse import GoogleCustomSearchEngine

# Buscar perfis sociais
cse = GoogleCustomSearchEngine(api_key, search_engine_id)

profiles = await cse.search_social_profiles(
    "Restaurante Bella Vista",
    location="SÃ£o Paulo"
)

# Buscar contatos
contacts = await cse.search_contact_info(
    "ClÃ­nica SaÃºde Total",
    location="Rio de Janeiro"
)
```

### 3. AnÃ¡lise com Qualidade Garantida

```python
# Configurar orquestrador com revisÃ£o
orchestrator = MultiLLMConsensusOrchestrator(
    llm_configs,
    token_counter,
    enable_review=True  # Ativa validaÃ§Ã£o automÃ¡tica
)

# AnÃ¡lise com consenso E validaÃ§Ã£o
result = await orchestrator.analyze_with_consensus(
    lead_data,
    'business_analysis'
)

# Resultado inclui mÃ©tricas de qualidade
print(f"Qualidade: {result.quality_score:.0%}")
print(f"Status: {result.review_status}")
if result.corrections_applied:
    print(f"CorreÃ§Ãµes: {result.corrections_applied}")
```

## ğŸ“Š Estrutura de Dados - GDR v26.2

Novos campos adicionados:

```python
{
    # ... campos existentes ...
    
    # NOVO: Qualidade e ValidaÃ§Ã£o
    'gdr_quality_score': 0.95,           # Score de qualidade (0-1)
    'gdr_review_status': 'approved',     # Status da validaÃ§Ã£o
    'gdr_corrections_applied': [...],    # Lista de correÃ§Ãµes
    'gdr_review_notes': '...',          # Notas da revisÃ£o
    
    # NOVO: Descobertas
    'gdr_total_discoveries': 23,         # Total de descobertas
    'gdr_discovery_depth': 3,            # Profundidade alcanÃ§ada
    'gdr_discovery_sources': {...},      # Fontes das descobertas
    
    # NOVO: Google CSE
    'gdr_cse_profiles_found': 5,         # Perfis encontrados
    'gdr_cse_mentions': [...],           # MenÃ§Ãµes na web
    'gdr_cse_additional_contacts': {...} # Contatos extras
}
```

## âš¡ Performance v26.2

### MÃ©tricas Atualizadas

| Modo | Tempo/Lead | Qualidade | Taxa Sucesso |
|------|------------|-----------|--------------|
| Basic | ~10s | 70% | >98% |
| Full Strategy | ~60s | 95%+ | >95% |
| Full Discovery | ~120s | 98%+ | >93% |

### Melhorias de Qualidade

- **Antes**: 70% de precisÃ£o mÃ©dia
- **v26.2**: 95%+ com validaÃ§Ã£o automÃ¡tica
- **CorreÃ§Ãµes**: ~3-5 por lead em mÃ©dia
- **Re-anÃ¡lises**: <10% dos casos

## ğŸ”§ SoluÃ§Ã£o de Problemas

### Novo: Erros de ValidaÃ§Ã£o

```python
# Verificar log de validaÃ§Ãµes
cat validation_log.json

# Desabilitar validaÃ§Ã£o temporariamente
python aura_nexus_main_v3.py --no-review

# Ajustar threshold de qualidade
python aura_nexus_main_v3.py --min-quality 0.6
```

### Problemas com Discovery Cycle

```bash
# Limitar profundidade
--discovery-depth 1

# Desabilitar Google CSE
--no-google-cse

# Usar cache agressivo
--aggressive-cache
```

## ğŸ¤ Contribuindo

### Novas Diretrizes v26.2

1. **Testes de ValidaÃ§Ã£o**: Adicione testes para validaÃ§Ãµes
2. **Qualidade First**: PRs devem manter taxa de erro <5%
3. **DocumentaÃ§Ã£o**: Documente regras de validaÃ§Ã£o
4. **Performance**: Teste com grandes volumes

## ğŸ“ˆ Roadmap v27.0

- [ ] Machine Learning para validaÃ§Ã£o preditiva
- [ ] ValidaÃ§Ã£o cruzada entre fontes
- [ ] Dashboard de qualidade em tempo real
- [ ] API REST com mÃ©tricas de qualidade
- [ ] IntegraÃ§Ã£o com Data Quality tools

## ğŸ“ Changelog v26.2

### Added
- DataReviewAgent para validaÃ§Ã£o automÃ¡tica
- IntelligentDiscoveryCycle para retroalimentaÃ§Ã£o
- GoogleCustomSearchEngine para busca avanÃ§ada
- Score de qualidade em todas anÃ¡lises
- Auto-correÃ§Ã£o de erros comuns

### Changed
- ConsensusResult agora inclui mÃ©tricas de qualidade
- MultiLLMConsensusOrchestrator integrado com validaÃ§Ã£o
- Notebook principal atualizado para v26.2

### Improved
- Taxa de erro: 20% â†’ <5%
- Qualidade dos dados: 70% â†’ 95%+
- Descobertas por lead: 15 â†’ 50+

## ğŸ“ Suporte

- ğŸ“§ Email: suporte@auranexus.com
- ğŸ’¬ Discord: [AURA NEXUS Community](https://discord.gg/auranexus)
- ğŸ“š Docs: [docs.auranexus.com/v26](https://docs.auranexus.com)
- ğŸ› Issues: [GitHub Issues](https://github.com/seu-usuario/aura-nexus/issues)

---

<div align="center">

**Desenvolvido com â¤ï¸ para revolucionar a inteligÃªncia de vendas com qualidade garantida**

[Website](https://auranexus.com) â€¢ [Documentation](https://docs.auranexus.com) â€¢ [Blog](https://blog.auranexus.com)

</div>